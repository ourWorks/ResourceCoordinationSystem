webpackJsonp([19],{cWhN:function(e,t){},d2tI:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=o("Y0bB"),a=o.n(l),i=o("dZWe"),r={name:"help_edit",data:function(){return{showTable:!1,editForm:{longitude:localStorage.getItem("longitude"),latitude:localStorage.getItem("latitude"),peopleNum:"",phone:"",deadline:"",medicalResource:["口罩","绷带"],dailyResource:[],comment:""},callRules:{peopleNum:[{required:!0,message:"请输入数字",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"}],deadline:[{required:!0,message:"请选择日期",trigger:"change"}]}}},mounted:function(){var e=this;return new a.a(function(t,o){Object(i.b)(localStorage.getItem("edit_cid")).then(function(o){console.log(o.data),e.editForm=o.data,e.showTable=!0,e.editForm.dailyResource=o.data.dailyResource.split(","),e.editForm.medicalResource=o.data.medicalResource.split(","),"---"==e.editForm.dailyResource&&(e.editForm.dailyResource=[]),"---"==e.editForm.medicalResource&&(e.editForm.medicalResource=[]),t()}).catch(function(e){o(e)})})},methods:{onSubmit:function(){var e=this;this.$refs.editForm.validate(function(t){t&&(console.log(e.editForm),e.editForm.dailyResource=e.editForm.dailyResource.toString(),e.editForm.medicalResource=e.editForm.medicalResource.toString(),""==e.editForm.dailyResource&&(e.editForm.dailyResource="---"),"---"==e.editForm.medicalResource&&(e.editForm.medicalResource="---"),Object(i.e)(e.editForm),e.$message({showClose:!0,message:"修改成功",type:"success"}),e.$router.push({path:"/home"}))})},backToHome:function(){localStorage.setItem("helpDetails",[]),this.$router.push({path:"/home"}).then(function(){}).catch(function(e){})}}},c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.showTable?o("el-form",{ref:"editForm",attrs:{model:e.editForm,rules:e.callRules,"label-width":"80px",size:"mini"}},[o("el-form-item",{attrs:{label:"经度"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.editForm.longitude,callback:function(t){e.$set(e.editForm,"longitude",t)},expression:"editForm.longitude"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"纬度"}},[o("el-input",{attrs:{disabled:!0},model:{value:e.editForm.latitude,callback:function(t){e.$set(e.editForm,"latitude",t)},expression:"editForm.latitude"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"救助人数",prop:"peopleNum"}},[o("el-input",{attrs:{required:""},model:{value:e.editForm.peopleNum,callback:function(t){e.$set(e.editForm,"peopleNum",t)},expression:"editForm.peopleNum"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[o("el-input",{model:{value:e.editForm.phone,callback:function(t){e.$set(e.editForm,"phone",t)},expression:"editForm.phone"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"约定时间",prop:"deadline"}},[o("div",{staticClass:"block"},[o("span",{staticClass:"demonstration"}),e._v(" "),o("el-date-picker",{attrs:{type:"datetime"},model:{value:e.editForm.deadline,callback:function(t){e.$set(e.editForm,"deadline",t)},expression:"editForm.deadline"}})],1)]),e._v(" "),o("el-form-item",{attrs:{label:"医疗需求"}},[o("el-checkbox-group",{model:{value:e.editForm.medicalResource,callback:function(t){e.$set(e.editForm,"medicalResource",t)},expression:"editForm.medicalResource"}},[o("el-checkbox",{attrs:{label:"口罩"}}),e._v(" "),o("el-checkbox",{attrs:{label:"绷带"}}),e._v(" "),o("el-checkbox",{attrs:{label:"担架"}}),e._v(" "),o("el-checkbox",{attrs:{label:"降压药"}}),e._v(" "),o("el-checkbox",{attrs:{label:"抗过敏药"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"日用资源"}},[o("el-checkbox-group",{model:{value:e.editForm.dailyResource,callback:function(t){e.$set(e.editForm,"dailyResource",t)},expression:"editForm.dailyResource"}},[o("el-checkbox",{attrs:{label:"饮用水",name:"dailyResource"}}),e._v(" "),o("el-checkbox",{attrs:{label:"充饥食品",name:"dailyResource"}}),e._v(" "),o("el-checkbox",{attrs:{label:"帐篷",name:"dailyResource"}}),e._v(" "),o("el-checkbox",{attrs:{label:"车位",name:"dailyResource"}}),e._v(" "),o("el-checkbox",{attrs:{label:"船位",name:"dailyResource"}})],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"备注信息"}},[o("el-input",{model:{value:e.editForm.comment,callback:function(t){e.$set(e.editForm,"comment",t)},expression:"editForm.comment"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确认修改")]),e._v(" "),o("el-button",{on:{click:e.backToHome}},[e._v("取消")])],1)],1):e._e()},staticRenderFns:[]};var d=o("e/h9")(r,c,!1,function(e){o("cWhN")},"data-v-12b9bc90",null);t.default=d.exports}});
//# sourceMappingURL=19.4bcf59797eaa7136bf3e.js.map