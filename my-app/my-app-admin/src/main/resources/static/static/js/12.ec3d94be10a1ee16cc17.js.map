{"version":3,"sources":["webpack:///src/components/home/volunteer/volunteer_findPosition.vue","webpack:///./src/components/home/volunteer/volunteer_findPosition.vue?2ccc","webpack:///./src/components/home/volunteer/volunteer_findPosition.vue"],"names":["volunteer_findPosition","name","data","preGet","longitude","latitude","mounted","this","getPosition","methods","goBack","$router","push","_this","$route","params","task_longitude","task_latitude","script","document","createElement","type","src","body","appendChild","center","TMap","LatLng","map","Map","zoom","markerLayer","MultiMarker","id","geometries","position","on","evt","add","latLng","getLat","getLng","str","$confirm","confirmButtonText","cancelButtonText","then","$message","message","console","log","localStorage","setItem","path","catch","setGeometries","volunteer_volunteer_findPosition","render","_h","$createElement","_c","_self","attrs","content","back","_v","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"wGAUA,IAAAA,GACAC,KAAA,yBACAC,KAFA,WAGA,OACAC,QAAA,EACAC,UAAA,kBACAC,SAAA,qBAGAC,QAAA,WAEAC,KAAAC,eAEAC,SACAC,OADA,WAEAH,KAAAI,QAAAC,KAAA,mCAEAJ,YAJA,WAIA,IAAAK,EAAAN,KAGAA,KAAAH,UAAAG,KAAAO,OAAAC,OAAAC,eACAT,KAAAF,SAAAE,KAAAO,OAAAC,OAAAE,cACA,IAAAC,EAAAC,SAAAC,cAAA,UACAF,EAAAG,KAAA,kBACAH,EAAAI,IAAA,mGACAH,SAAAI,KAAAC,YAAAN,GAEAX,KAAAJ,QAAA,EACA,IAAAsB,EAAA,IAAAC,KAAAC,OAAA,sCAEAC,EAAA,IAAAF,KAAAG,IAAA,aACAC,KAAA,GACAL,WAIAM,EAAA,IAAAL,KAAAM,aACAC,GAAA,eACAL,MACAM,aAKAC,SAAA,IAAAT,KAAAC,OAAApB,KAAAH,UAAAG,KAAAF,SAAA,IACA4B,GAAA,aAOAL,EAAAQ,GAAA,iBAAAC,GACAN,EAAAO,KACAH,SAAAE,EAAAE,SAEA1B,EAAAT,UAAAiC,EAAAE,OAAAC,SACA3B,EAAAR,SAAAgC,EAAAE,OAAAE,SAGA,IAAAC,EAAA,MAAA7B,EAAAT,UAAA,OAAAS,EAAAR,SAAA,IACAQ,EAAA8B,SAAAD,EAAA,aACAE,kBAAA,KACAC,iBAAA,OAMAC,KAAA,WACAjC,EAAAkC,UACA1B,KAAA,UACA2B,QAAA,WAIAC,QAAAC,IAAA,QACAC,aAAAC,QAAA,YAAAvC,EAAAT,WACA+C,aAAAC,QAAA,WAAAvC,EAAAR,UACAQ,EAAAF,QAAAC,MAAAyC,KAAA,6BAGAC,MAAA,WAEAvB,EAAAwB,yBC3FeC,GADEC,OAFjB,WAA0B,IAAaC,EAAbnD,KAAaoD,eAA0BC,EAAvCrD,KAAuCsD,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,kBAAsCE,OAAOC,QAAA,YAAqB3B,IAAK4B,KAAtIzD,KAAsIG,UAAtIH,KAAyJ0D,GAAA,KAAAL,EAAA,OAAwBE,OAAO7B,GAAA,gBAAkB,IAEnNiC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACErE,EACAwD,GATF,EAVA,SAAAc,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/12.ec3d94be10a1ee16cc17.js","sourcesContent":["<template>\n  <div>\n    <el-page-header @back=\"goBack\" content=\"求助人员定位展示\"></el-page-header>\n    <div id=\"container\">\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"volunteer_findPosition\",\n  data() {\n    return {\n      preGet: true,\n      longitude: 23.20211561621817,//经度\n      latitude: 113.38094520264053//纬度\n    }\n  },\n  mounted: function () {\n    //调用已经被mounted的方法\n    this.getPosition();\n  },\n  methods: {\n    goBack() {\n      this.$router.push(\"/home/volunteer/volunteer_task\");\n    },\n    getPosition() {\n      {\n        //设置经纬度是传过来的经纬度信息\n        this.longitude=this.$route.params.task_longitude\n        this.latitude=this.$route.params.task_latitude\n        var script = document.createElement(\"script\");\n        script.type = \"text/javascript\";\n        script.src = \"https://map.qq.com/api/gljs?v=1.exp&key=OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77&callback=getPosition\";\n        document.body.appendChild(script);\n        //消除之前的填写按钮\n        this.preGet = false;\n        var center = new TMap.LatLng(23.20211561621817, 113.38094520264053);//设置中心点坐标\n        //初始化地图\n        var map = new TMap.Map(\"container\", {\n          zoom: 17, // 设置地图缩放\n          center: center\n        });\n\n        //初始化marker图层\n        var markerLayer = new TMap.MultiMarker({\n          id: 'marker-layer',\n          map: map,\n          geometries: [\n            //点标记数据数组\n            {\n              // 标记位置(经度，纬度，高度)\n              // position: center,\n              position: new TMap.LatLng(this.longitude, this.latitude, 50),\n              id: 'marker',\n            },\n          ],\n        });\n        var longitude;\n        var latitude;\n        //监听点击事件添加marker\n        map.on(\"click\", (evt) => {\n            markerLayer.add({\n              position: evt.latLng,\n            });\n            this.longitude = evt.latLng.getLat();\n            this.latitude = evt.latLng.getLng();\n\n            //进行弹框弹出进行确认\n            var str = \"经度:\" + this.longitude + \",\" + \"纬度:\" + this.latitude + ';'\n            this.$confirm(str, '确定您的位置信息？', {\n              confirmButtonText: '确定',\n              cancelButtonText: '重选',\n              ///截切的位置\n              // callback: action => {\n              // }\n            })\n              //确认的调用\n              .then(() => {\n                this.$message({\n                  type: 'success',\n                  message: '成功选取位置'\n                  // message: `action: ${action}`\n                });\n                //确认位置信息后\n                console.log(\"test\");\n                localStorage.setItem(\"longitude\", this.longitude);\n                localStorage.setItem(\"latitude\", this.latitude);\n                this.$router.push({path: '/home/help/call_help_b'});\n              })\n              //取消的调用\n              .catch(() => {\n                //腾讯地图：删除点标记\n                markerLayer.setGeometries([])\n                // this.$message({\n                //   type: 'info',\n                //   message: '已取消跳转',\n                // });\n              });\n\n          }\n        )\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n#container {\n  high: 100%;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/home/volunteer/volunteer_findPosition.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-page-header',{attrs:{\"content\":\"求助人员定位展示\"},on:{\"back\":_vm.goBack}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"container\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6db3fdea\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/home/volunteer/volunteer_findPosition.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/.pnpm/registry.npmmirror.com+extract-text-webpack-plugin@3.0.2_webpack@3.12.0/node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6db3fdea\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/selector?type=styles&index=0!./volunteer_findPosition.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/selector?type=script&index=0!./volunteer_findPosition.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/selector?type=script&index=0!./volunteer_findPosition.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6db3fdea\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/selector?type=template&index=0!./volunteer_findPosition.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6db3fdea\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/home/volunteer/volunteer_findPosition.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}