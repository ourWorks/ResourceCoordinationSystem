{"version":3,"sources":["webpack:///src/components/home/help/call_help_a.vue","webpack:///./src/components/home/help/call_help_a.vue?19ad","webpack:///./src/components/home/help/call_help_a.vue"],"names":["call_help_a","name","data","preGet","longitude","latitude","mounted","_this","this","script","document","createElement","type","src","body","appendChild","$alert","confirmButtonText","callback","action","getPosition","methods","goBack","$route","params","prePath","$router","push","_this2","center","TMap","LatLng","map","Map","zoom","markerLayer","MultiMarker","id","geometries","on","evt","add","position","latLng","getLat","getLng","str","$confirm","cancelButtonText","then","$message","message","console","log","localStorage","setItem","path","catch","setGeometries","help_call_help_a","render","_h","$createElement","_c","_self","attrs","content","back","_v","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"sGAUA,IAAAA,GACAC,KAAA,gBACAC,KAFA,WAGA,OACAC,QAAA,EACAC,UAAA,kBACAC,SAAA,qBAGAC,QAAA,eAAAC,EAAAC,KACAC,EAAAC,SAAAC,cAAA,UACAF,EAAAG,KAAA,kBACAH,EAAAI,IAAA,mGACAH,SAAAI,KAAAC,YAAAN,GAGAD,KAAAQ,OAAA,8BACAC,kBAAA,KACAC,SAAA,SAAAC,GAMAZ,EAAAa,kBAKAC,SACAC,OADA,WAEA,MAAAd,KAAAe,OAAAC,OAAAC,QACAjB,KAAAkB,QAAAC,KAAAnB,KAAAe,OAAAC,OAAAC,SAEAjB,KAAAkB,QAAAC,KAAA,UAGAP,YARA,WAQA,IAAAQ,EAAApB,KAGAA,KAAAL,QAAA,EACA,IAAA0B,EAAA,IAAAC,KAAAC,OAAA,sCAEAC,EAAA,IAAAF,KAAAG,IAAA,aACAC,KAAA,GACAL,WAIAM,EAAA,IAAAL,KAAAM,aACAC,GAAA,eACAL,MACAM,gBAaAN,EAAAO,GAAA,iBAAAC,GACAL,EAAAM,KACAC,SAAAF,EAAAG,SAEAf,EAAAxB,UAAAoC,EAAAG,OAAAC,SACAhB,EAAAvB,SAAAmC,EAAAG,OAAAE,SAGA,IAAAC,EAAA,MAAAlB,EAAAxB,UAAA,OAAAwB,EAAAvB,SAAA,IACAuB,EAAAmB,SAAAD,EAAA,aACA7B,kBAAA,KACA+B,iBAAA,OAMAC,KAAA,WACArB,EAAAsB,UACAtC,KAAA,UACAuC,QAAA,WAIAC,QAAAC,IAAA,QACAC,aAAAC,QAAA,YAAA3B,EAAAxB,WACAkD,aAAAC,QAAA,WAAA3B,EAAAvB,UACAuB,EAAAF,QAAAC,MAAA6B,KAAA,6BAGAC,MAAA,WAEAtB,EAAAuB,yBCxGeC,GADEC,OAFjB,WAA0B,IAAaC,EAAbrD,KAAasD,eAA0BC,EAAvCvD,KAAuCwD,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,kBAAsCE,OAAOC,QAAA,cAAuB3B,IAAK4B,KAAxI3D,KAAwIc,UAAxId,KAA2J4D,GAAA,KAAAL,EAAA,OAAwBE,OAAO5B,GAAA,gBAAkB,IAErNgC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACExE,EACA2D,GATF,EAVA,SAAAc,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/17.802fe9a90f2e7819c780.js","sourcesContent":["<template>\n  <div>\n    <el-page-header @back=\"goBack\" content=\"步骤1 约定救援位置\"></el-page-header>\n    <div id=\"container\">\n    </div>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: \"Call_Help_Map\",\n  data() {\n    return {\n      preGet: true,\n      longitude: 23.20211561621817,//经度\n      latitude: 113.38094520264053//纬度\n    }\n  },\n  mounted: function () {\n    var script = document.createElement(\"script\");\n    script.type = \"text/javascript\";\n    script.src = \"https://map.qq.com/api/gljs?v=1.exp&key=OB4BZ-D4W3U-B7VVO-4PJWW-6TKDJ-WPB77&callback=getPosition\";\n    document.body.appendChild(script);\n    //调用已经被mounted的方法\n    // this.getPosition();\n    this.$alert('您好，请耐心等待地图加载完毕，然后单击标记您的位置？', {\n      confirmButtonText: '确定',\n      callback: action => {\n        // this.$message({\n        //   type: 'info',\n        //   message: `action: ${action}`\n        // });\n        //确认位置信息后\n        this.getPosition();\n      }\n    });\n\n  },\n  methods: {\n    goBack() {\n      if(this.$route.params.prePath!=null){\n        this.$router.push(this.$route.params.prePath);\n      }else{\n        this.$router.push(\"/home\");\n      }\n    },\n    getPosition() {\n      {\n        //消除之前的填写按钮\n        this.preGet = false;\n        var center = new TMap.LatLng(23.20211561621817, 113.38094520264053);//设置中心点坐标\n        //初始化地图\n        var map = new TMap.Map(\"container\", {\n          zoom: 17, // 设置地图缩放\n          center: center\n        });\n\n        //初始化marker图层\n        var markerLayer = new TMap.MultiMarker({\n          id: 'marker-layer',\n          map: map,\n          geometries: [\n            // 点标记数据数组\n            // {\n            //   // 标记位置(经度，纬度，高度)\n            //   // position: center,\n            //   position: new TMap.LatLng(23.20308055790262, 113.38210028842286, 50),\n            //   id: 'marker',\n            // },\n          ],\n        });\n        var longitude;\n        var latitude;\n        //监听点击事件添加marker\n        map.on(\"click\", (evt) => {\n            markerLayer.add({\n              position: evt.latLng,\n            });\n            this.longitude = evt.latLng.getLat();\n            this.latitude = evt.latLng.getLng();\n\n            //进行弹框弹出进行确认\n            var str = \"经度:\" + this.longitude + \",\" + \"纬度:\" + this.latitude + ';'\n            this.$confirm(str, '确定您的位置信息？', {\n              confirmButtonText: '确定',\n              cancelButtonText: '重选',\n              ///截切的位置\n              // callback: action => {\n              // }\n            })\n              //确认的调用\n              .then(() => {\n                this.$message({\n                  type: 'success',\n                  message: '成功选取位置'\n                  // message: `action: ${action}`\n                });\n                //确认位置信息后\n                console.log(\"test\");\n                localStorage.setItem(\"longitude\", this.longitude);\n                localStorage.setItem(\"latitude\", this.latitude);\n                this.$router.push({path: '/home/help/call_help_b'});\n              })\n              //取消的调用\n              .catch(() => {\n                //腾讯地图：删除点标记\n                markerLayer.setGeometries([])\n                // this.$message({\n                //   type: 'info',\n                //   message: '已取消跳转',\n                // });\n              });\n\n          }\n        )\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n\n#container {\n  high: 100%;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/home/help/call_help_a.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-page-header',{attrs:{\"content\":\"步骤1 约定救援位置\"},on:{\"back\":_vm.goBack}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"container\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1e9cfb69\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/home/help/call_help_a.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/.pnpm/registry.npmmirror.com+extract-text-webpack-plugin@3.0.2_webpack@3.12.0/node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1e9cfb69\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/selector?type=styles&index=0!./call_help_a.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/selector?type=script&index=0!./call_help_a.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/selector?type=script&index=0!./call_help_a.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1e9cfb69\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@13.7.3_a47fcb3a8782e14c2edfd0d079e36142/node_modules/vue-loader/lib/selector?type=template&index=0!./call_help_a.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1e9cfb69\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/home/help/call_help_a.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}